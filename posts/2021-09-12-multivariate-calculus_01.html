<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Notes from Imperial’s “Mathematics for Machine Learning course”">

<title>on-data - Building an intuition for Calculus</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">on-data</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html">
 <span class="menu-text">On data</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Building an intuition for Calculus</h1>
                  <div>
        <div class="description">
          Notes from Imperial’s “Mathematics for Machine Learning course”
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">maths for machine learning</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#calculus-a-gentle-introduction" id="toc-calculus-a-gentle-introduction" class="nav-link active" data-scroll-target="#calculus-a-gentle-introduction">Calculus, a gentle introduction</a>
  <ul class="collapse">
  <li><a href="#what-is-calculus" id="toc-what-is-calculus" class="nav-link" data-scroll-target="#what-is-calculus">What is calculus</a></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">Functions</a>
  <ul class="collapse">
  <li><a href="#matching-a-description-of-a-function-to-a-graph-of-a-function" id="toc-matching-a-description-of-a-function-to-a-graph-of-a-function" class="nav-link" data-scroll-target="#matching-a-description-of-a-function-to-a-graph-of-a-function">Matching a description of a function to a graph of a function</a></li>
  </ul></li>
  <li><a href="#gradients" id="toc-gradients" class="nav-link" data-scroll-target="#gradients">Gradients</a>
  <ul class="collapse">
  <li><a href="#matching-the-graph-of-a-function-to-the-graph-of-its-derivative" id="toc-matching-the-graph-of-a-function-to-the-graph-of-its-derivative" class="nav-link" data-scroll-target="#matching-the-graph-of-a-function-to-the-graph-of-its-derivative">Matching the graph of a function to the graph of its derivative</a></li>
  </ul></li>
  <li><a href="#derivatives" id="toc-derivatives" class="nav-link" data-scroll-target="#derivatives">Derivatives</a>
  <ul class="collapse">
  <li><a href="#the-sum-rule" id="toc-the-sum-rule" class="nav-link" data-scroll-target="#the-sum-rule">The sum rule</a></li>
  <li><a href="#in-practice-non-linear" id="toc-in-practice-non-linear" class="nav-link" data-scroll-target="#in-practice-non-linear">In practice, non-linear</a></li>
  <li><a href="#the-power-rule" id="toc-the-power-rule" class="nav-link" data-scroll-target="#the-power-rule">The power rule</a></li>
  <li><a href="#differentiation-special-cases" id="toc-differentiation-special-cases" class="nav-link" data-scroll-target="#differentiation-special-cases">Differentiation special cases</a></li>
  <li><a href="#fx" id="toc-fx" class="nav-link" data-scroll-target="#fx">(1) $ f(x) = $</a></li>
  <li><a href="#fx-ex" id="toc-fx-ex" class="nav-link" data-scroll-target="#fx-ex">(2) $ f(x) = e^x $</a></li>
  <li><a href="#trigonometric-functions-sine-and-cosine" id="toc-trigonometric-functions-sine-and-cosine" class="nav-link" data-scroll-target="#trigonometric-functions-sine-and-cosine">(3) Trigonometric functions, <code>Sine</code> and <code>Cosine</code></a></li>
  </ul></li>
  <li><a href="#practice" id="toc-practice" class="nav-link" data-scroll-target="#practice">Practice</a></li>
  <li><a href="#time-saving-rules" id="toc-time-saving-rules" class="nav-link" data-scroll-target="#time-saving-rules">Time saving rules</a>
  <ul class="collapse">
  <li><a href="#product-rule" id="toc-product-rule" class="nav-link" data-scroll-target="#product-rule">Product rule</a></li>
  <li><a href="#chain-rule" id="toc-chain-rule" class="nav-link" data-scroll-target="#chain-rule">Chain rule</a></li>
  </ul></li>
  <li><a href="#combining-all-four-rules" id="toc-combining-all-four-rules" class="nav-link" data-scroll-target="#combining-all-four-rules">Combining all four rules</a>
  <ul class="collapse">
  <li><a href="#more-practice" id="toc-more-practice" class="nav-link" data-scroll-target="#more-practice">More practice</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="calculus-a-gentle-introduction" class="level1">
<h1>Calculus, a gentle introduction</h1>
<p>Mathematical language is like any other. You can’t enjoy poetry until you understand a lot of vocabulary and grammar. Don’t shy away from the “boring, rote” work.</p>
<section id="what-is-calculus" class="level2">
<h2 class="anchored" data-anchor-id="what-is-calculus">What is calculus</h2>
<p>The science of change</p>
<blockquote class="blockquote">
<p>Calculus, like other forms of mathematics, is much more than a language; it’s also an incredibly powerful system of reasoning.</p>
<p>It lets us transform one equation into another by performing various symbolic operations on them, operations subject to certain rules. Those rules are deeply rooted in logic, so even though it might seem like we’re just shuffling symbols around, we’re actually constructing long chains of logical inference. The symbol shuffling is useful shorthand, a convenient way to build arguments too intricate to hold in our heads.</p>
<p>The truly radical and distinctive move of calculus is that it takes the divide-and-conquer strategy to its utmost extreme - all the way out to infinity. Instead of cutting a big problem into a handful of bite-size pieces, it keeps cutting and cutting relentlessly until the problem has been chopped and pulverized into its tiniest conceivable parts, leaving infinitely many of them. Once that’s done, it solves the original problem for all the tiny parts, which is usually a much easier task than solving the initial giant problem.</p>
<p>Thus, calculus proceeds in two phases: cutting and rebuilding.</p>
<ol type="1">
<li>In mathematical terms, the cutting process always involves infinitely fine subtraction, which is used to quantify the differences between the parts. Accordingly, this half of the subject is called <strong>differential calculus</strong>. (2) The reassembly process always involves infinite addition, which integrates the parts back into the original whole. This half of the subject is called <strong>integral calculus</strong>.</li>
</ol>
<p>This strategy can be used on anything that we can imagine slicing endlessly. Such infinitely divisible things are called continua and are said to be continuous, from the Latin roots con (together with) and tenere (hold), meaning uninterrupted or holding together.</p>
<p>Why should the universe respect the workings of any kind of logic, let alone the kind of logic that we puny humans can muster? This is what Einstein marvelled at, when he wrote, “The eternal mystery of the world is its comprehensibility. And it’s what Eugene Wigner meant in his essay”On the Unreasonable Effectiveness of Mathematics in the Natural Sciences” when he wrote, “The miracle of the appropriateness of the language of mathematics for the formulation of the laws of physics is a wonderful gift which we neither understand nor deserve.”</p>
<p><em>Infinite Powers – Steven Strogatz</em></p>
</blockquote>
</section>
<section id="functions" class="level2">
<h2 class="anchored" data-anchor-id="functions">Functions</h2>
<p>Functions are a relationship between an input and an output.</p>
<p>If we want the temperate of a room at a given time, our inputs might be the <code>x, y, z</code> co-ordinates of the room and <code>t</code> to represent time. Our function would then return the temperature.</p>
<p><span class="math display">\[ T(x, y, z, t) = temp \]</span></p>
<p><span class="math inline">\(f(x) = x^2 + 3\)</span>, here, <span class="math inline">\(f\)</span> is a function of <span class="math inline">\(x\)</span></p>
<p>Without context, this can get tricky. Take the example below;</p>
<p><span class="math display">\[ f(x) = g(x) + h(x - a) \]</span></p>
<p>We can assume assume <span class="math inline">\(g, h, a\)</span> are not variables, otherwise we would have to write <span class="math inline">\(f(x, g, h, a)\)</span>.</p>
<p>But without context it’s not 100% clearly if <span class="math inline">\(g\)</span> is a function acting on <span class="math inline">\(x\)</span>, are <span class="math inline">\(h\)</span> and <span class="math inline">\(a\)</span> constants, or is <span class="math inline">\(h\)</span> also a function.</p>
<p>Selecting a candidate function or hypothesis to model the world is the creative essence of science.</p>
<blockquote class="blockquote">
<p>Calculus is the study of describing the relationship between a function and the change in its variables.</p>
</blockquote>
<section id="matching-a-description-of-a-function-to-a-graph-of-a-function" class="level3">
<h3 class="anchored" data-anchor-id="matching-a-description-of-a-function-to-a-graph-of-a-function">Matching a description of a function to a graph of a function</h3>
<blockquote class="blockquote">
<ol type="1">
<li>Imagine that you place one end of a water hose into a swimming pool and turn the tap on at the other end. Water then pours into the pool at a constant rate, causing the volume of water in the pool to increase at a constant rate.</li>
</ol>
<p>While the swimming pool is still filling up with water, what would we expect the plot of the function of volume of water in the pool with respect to time to look like?</p>
</blockquote>
<p><img src="{{ site.baseurl }}/images/calculus/quiz1.1.png" class="img-fluid">{:width=“300px”}</p>
<p>As water flows in at a constant rate, the volume increases at a constant rate, so the graph is just a straight line.</p>
<blockquote class="blockquote">
<ol start="2" type="1">
<li>The tea is left to cool down. The speed of cooling depends on the temperature of the tea: when it is hot it cools down quickly and as it gets colder it cools down more and more slowly, until it approaches room temperature.</li>
</ol>
<p>Which of the following graphs could represent the temperature of that cup of tea with time?</p>
</blockquote>
<p><img src="{{ site.baseurl }}/images/calculus/quiz1.2.png" class="img-fluid">{:width=“300px”}</p>
<p>Newton’s law of cooling. This is an exponential function</p>
<blockquote class="blockquote">
<ol start="3" type="1">
<li>Rahul drops a ball from the top of a ladder into a pit of sand.</li>
</ol>
<p>When the ball is released it begins to accelerate towards the ground, getting faster and faster until it hits the sand and quickly becomes stationary again. What would a plot of the speed of the ball against time look like?</p>
</blockquote>
<p><img src="{{ site.baseurl }}/images/calculus/quiz1.3.png" class="img-fluid">{:width=“300px”}</p>
<p>The plot has three distinct regions. When the ball is falling it speeds up at at a constant rate of acceleration, then it suddenly decelerates and has zero speed in the sandpit.</p>
<blockquote class="blockquote">
<ol start="4" type="1">
<li>Bags of flour labelled 1 kg from a supermarket are weighed. Most of the weights measured are very close to 1 kg, with some a little more and others a little less. Those which are further away from 1 kg are found less and less often, with almost no bags more than 100 g out.</li>
</ol>
</blockquote>
<blockquote class="blockquote">
<p>What might we expect the plot of frequency (i.e.&nbsp;how often a type of bag is found) against mass to look like?</p>
</blockquote>
<p><img src="{{ site.baseurl }}/images/calculus/quiz1.4.png" class="img-fluid">{:width=“300px”}</p>
<p>The weights can be approximated by a bell-curve, called the “Normal Distribution”.</p>
<blockquote class="blockquote">
<ol start="5" type="1">
<li>A mass is attached to a string and hung from the ceiling. It is then pulled away from its natural hanging position (called equilibrium) and released, so that it swings backwards and forwards. Let’s assume there is no air resistance, so that when the mass swings back it returns all the way back to where it was originally released. It completes a full swing, away and back, every 2 seconds.</li>
</ol>
<p>What is a reasonable plot for the displacement of the mass from equilibrium with respect to time?</p>
</blockquote>
<p><img src="{{ site.baseurl }}/images/calculus/quiz1.5.png" class="img-fluid">{:width=“300px”}</p>
<p>This is called a <em>simple harmonic oscillator</em> - that is, we model the movement of the pendulum through time as a simple sine wave, with some amplitude (determined by the maximum distance of the pendulum to the equilibrium point) and some frequency (determined by the period of the swing).</p>
<p>The pendulum takes 2 seconds to complete a full revolution, which can also be described as swinging at a frequency of 0.5 Hz.</p>
<hr>
</section>
</section>
<section id="gradients" class="level2">
<h2 class="anchored" data-anchor-id="gradients">Gradients</h2>
<p>We can calculate the gradient of a straight line by looking at how much the function <span class="math inline">\(f(x)\)</span> changes, divided by the amount the variable (x) changes.</p>
<p>This is often referred to as <em>“rise over run”</em>.</p>
<p><img src="{{ site.baseurl }}/images/calculus/rise_over_run.png" class="img-fluid">{:width=“300px”}</p>
<p>A classic example is graph showing the speed of a car over time.</p>
<p><img src="{{ site.baseurl }}/images/calculus/car1.png" class="img-fluid">{:width=“300px”}</p>
<p>We can see the graph starts with an initial speed of 0, it accelerates, slows, speeds up again before coming to a sharp stop.</p>
<p>A constant speed would be represented as a flat line.</p>
<p>Acceleration is a function of time in our example.</p>
<blockquote class="blockquote">
<p>Acceleration can be defined as the local gradient (the gradient at a single point) of a speed-time graph</p>
</blockquote>
<p>We illustrate the gradient at a single point but drawing a tangent line. The line will be the same gradient of the curve at that point.</p>
<p><img src="{{ site.baseurl }}/images/calculus/car2.png" class="img-fluid">{:width=“300px”}</p>
<p>We can plot an entirely new graph which shows us acceleration against time, rather than speed, bt recording the slop of these tangent lines at each point.</p>
<p><img src="{{ site.baseurl }}/images/calculus/car3.png" class="img-fluid">{:width=“300px”}</p>
<p>An acceleration of 0 is equivalent a constant speed, so a flat line in the speed-time graph.</p>
<p>Speed is, <span class="math inline">\(\frac{distance}{time}\)</span></p>
<p>Acceleration is, <span class="math inline">\(\frac{distance}{time^2}\)</span></p>
<p>Velocity is the amount of distance travelled during the amount of time, <span class="math inline">\(\frac{s}{t}\)</span>. Acceleration is a change of velocity over time <span class="math inline">\(\frac{\Delta v}{\Delta t}\)</span> (this is why we square time)</p>
<blockquote class="blockquote">
<p>What we’ve just done by eye is the essence of calculus.</p>
<p>We took a continuous function and described its slope at every point by constructing a new function, which is its derivative.</p>
<p>We can in principle plot the derivative of the acceleration function following the same procedure, where we simply take the slope of the acceleration function at every point. This is the rate of change of acceleration which we can also think of as being the second derivative of the speed, and it’s actually referred to as the jerk of the car.</p>
</blockquote>
<p><img src="{{ site.baseurl }}/images/calculus/car4.png" class="img-fluid">{:width=“300px”}</p>
<p>We can also follow the inverse procedure. Take our baseline speed function, and imagine what function this would have been the gradient of. This is the <strong>anti-derivative</strong>.</p>
<p>In our example this would be the distance of the car from its starting position, or <code>displacement</code>.</p>
<p><img src="{{ site.baseurl }}/images/calculus/car5.png" class="img-fluid">{:width=“300px”}</p>
<ul>
<li>The anti-derivative is closely related to the <code>integral</code>
<ul>
<li>the fundamental object of calculus corresponding to summing infinitesimal pieces to find the content of a continuous region [<a href="https://mathworld.wolfram.com/Integral.html">ref</a>].</li>
</ul></li>
</ul>
<section id="matching-the-graph-of-a-function-to-the-graph-of-its-derivative" class="level3">
<h3 class="anchored" data-anchor-id="matching-the-graph-of-a-function-to-the-graph-of-its-derivative">Matching the graph of a function to the graph of its derivative</h3>
<ol type="1">
<li>Estimate the gradient of the tangent to the non-linear, green function at the point <span class="math inline">\((4, 2)\)</span></li>
</ol>
<p><img src="{{ site.baseurl }}/images/calculus/quiz2-1.png" class="img-fluid">{:width=“300px”}</p>
<p>The run goes from 0 to 6, the rise goes from 2 to 8. Therefore, rise over run is <span class="math inline">\(\frac{6}{6} = 1\)</span></p>
<ol start="2" type="1">
<li>It’s possible to have a reasonable guess at what the derivative of a function will look like by considering regions of the function with different gradients.</li>
</ol>
<p>Take the following example, we can see that there are three types of behaviour we might see in the gradient of a smooth function.</p>
<p><img src="{{ site.baseurl }}/images/calculus/quiz2-2a.png" class="img-fluid">{:width=“300px”}</p>
<ul>
<li>On the left the function is increasing, so we have a positive gradient</li>
<li>At the turning point the gradient will be exactly <span class="math inline">\(0\)</span></li>
<li>On the right the function is decreasing, so we will have a negative gradient</li>
</ul>
<p><img src="{{ site.baseurl }}/images/calculus/quiz2-2b.png" class="img-fluid">{:width=“300px”}</p>
<blockquote class="blockquote">
<p>The derivative starts positive in the “increasing region” and becomes negative in the “decreasing region”, passing through zero at the “turning point”</p>
</blockquote>
<ol start="3" type="1">
<li>What representation would best describe the following function?</li>
</ol>
<p><img src="{{ site.baseurl }}/images/calculus/quiz2-3a.png" class="img-fluid">{:width=“300px”}</p>
<p>We can see there are three turning points, so the derivative will be 0 three times.</p>
<p><img src="{{ site.baseurl }}/images/calculus/quiz2-3b.png" class="img-fluid">{:width=“300px”}</p>
<ol start="4" type="1">
<li>What representation would best describe the following function?</li>
</ol>
<p><img src="{{ site.baseurl }}/images/calculus/quiz2-4a.png" class="img-fluid">{:width=“300px”}</p>
<p>Again, we can see there are three turning points, so the derivative will be 0 three times.</p>
<p><img src="{{ site.baseurl }}/images/calculus/quiz2-4b.png" class="img-fluid">{:width=“300px”}</p>
<ol start="3" type="1">
<li><p>and (4) have the same derivative. Shifting a function up or down does not change the gradient.</p></li>
<li><p>Reverse problem. What is the anti-derivative of the function below?</p></li>
</ol>
<p><img src="{{ site.baseurl }}/images/calculus/quiz2-5a.png" class="img-fluid">{:width=“300px”}</p>
<p>We can see there are four points at which the derivative is 0, so there are four turning points.</p>
<p>Both these images could be represented by the derivative plot above.</p>
<blockquote class="blockquote">
<p>If one function is a vertical shift of another function, then they have the same differential.</p>
</blockquote>
<p><img src="{{ site.baseurl }}/images/calculus/quiz2-5b.png" class="img-fluid">{:width=“500”}</p>
</section>
</section>
<section id="derivatives" class="level2">
<h2 class="anchored" data-anchor-id="derivatives">Derivatives</h2>
<p><em>Rise over run</em> is more formally expressed as, “the gradient of a line is equal to the amount of that function changes in this interval, divided by the length of the interval we’re considering”.</p>
<p><span class="math display">\[ gradient = \frac{rise}{run} \]</span></p>
<p>This helps us built the intuition that</p>
<ul>
<li>flat horizontal lines have a gradient of 0</li>
<li>upward sloping lines have a positive gradient</li>
<li>downward sloping lines have a negative gradient</li>
</ul>
<p>A linear function will have a flat gradient, because no matter the interval (run) we’re considering the slope is the same. However, for more complex functions, where the slope is constantly changing, i.e.&nbsp;the gradient is different at different points, the rise over run depends on where we choose our points.</p>
<p><img src="{{ site.baseurl }}/images/calculus/derivative1.png" class="img-fluid">{:width=“500”}</p>
<p><strong>Important to note</strong>. For continuous functions, as delta x <span class="math inline">\(\Delta x\)</span> gets smaller and smaller it becomes a better approximation for the gradient at point <span class="math inline">\(x\)</span>.</p>
<p>This goes back to what Storgatz called <code>the Infinity Principle</code>.</p>
<blockquote class="blockquote">
<p>To analyze something complicated, the Infinity Principle says you should first break it down into an infinity of simpler parts and analyze those. Putting those infinitely many analysed parts back together into an analysed whole can be difficult, but it can be easier than analysing the complicated whole directly. [<a href="https://lareviewofbooks.org/article/to-infinity-and-beyond-the-power-of-calculus/">ref</a>]</p>
</blockquote>
<p><strong>Delta x is infinitely small but non-zero.</strong></p>
<p>We can express this concept formally, by using the limit notation scheme:</p>
<blockquote class="blockquote">
<p>as delta goes to zero, our expression will give us a function for our gradient at any point we choose</p>
</blockquote>
<p>Depending on the notation schema you prefer you can write <code>f dash</code> or <code>f prime</code>: <span class="math inline">\(f'\)</span> or <code>df by dx</code>: <span class="math inline">\(\frac{df}{dx}\)</span></p>
<p><img src="{{ site.baseurl }}/images/calculus/derivative2.png" class="img-fluid">{:width=“500”}</p>
<p>This is what it means to <strong>differentiate a function</strong>. You substitute the function into this expression.</p>
<p><span class="math display">\[ f'(x) = lim_{\Delta x \to 0} \left(\frac{f(x + \Delta x) - f(x)}{\Delta x}\right)\]</span></p>
<p>Differentiation is the process of finding a derivative. ### In practice, linear</p>
<p>We know a linear function will give us a constant derivative, so lets start there.</p>
<p>Our linear function: $ f(x) = 3x + 2 $</p>
<p>Substitute in:</p>
<p><span class="math display">\[ f'(x) = lim_{\Delta x \to 0} \left(\frac{3(x + \Delta x) +2 - (3x + 2)}{\Delta x}\right)\]</span></p>
<p>Do some algebra;</p>
<ul>
<li>start by expanding the brackets</li>
</ul>
<p><span class="math display">\[ lim_{\Delta x \to 0} \left(\frac{3x + 3\Delta x +2 - 3x - 2}{\Delta x}\right)\]</span></p>
<p><span class="math inline">\(3x\)</span> and <span class="math inline">\(-3x\)</span> cancel each other out, as do the <span class="math inline">\(2\)</span> and <span class="math inline">\(-2\)</span></p>
<p><span class="math display">\[ lim_{\Delta x \to 0} \left(\frac{3\Delta x}{\Delta x}\right)\]</span></p>
<p>The <span class="math inline">\(\Delta x\)</span> themselves cancel out, so we end up with a limit of 3;</p>
<p><span class="math display">\[ lim_{\Delta x \to 0} (3)\]</span></p>
<p>Because all the <span class="math inline">\(\Delta x\)</span> terms have been removed (solved for), the limit expression has no effect, so we can just ignore it.</p>
<p>The gradient of our linear function is a constant.</p>
<p>We know that gradient of a linear function <span class="math inline">\(ax + b\)</span> is just <span class="math inline">\(a\)</span> and now we see why.</p>
<section id="the-sum-rule" class="level3">
<h3 class="anchored" data-anchor-id="the-sum-rule">The sum rule</h3>
<p>In the example above, we differentiated <span class="math inline">\(3x\)</span> and <span class="math inline">\(+2\)</span> as the same time. We could do this things separately and then added the results.</p>
<blockquote class="blockquote">
<p>This interchangeability of the approach is called The Sum Rule</p>
</blockquote>
<p><span class="math display">\[ \frac{d}{dx} \left(f(x) + g(x)\right) = \frac{df(x)}{dx} + \frac{dg(x)}{dx} \]</span></p>
<p>Remember <span class="math inline">\(\frac{df(x)}{dx}\)</span> is <span class="math inline">\(\Delta x\)</span></p>
</section>
<section id="in-practice-non-linear" class="level3">
<h3 class="anchored" data-anchor-id="in-practice-non-linear">In practice, non-linear</h3>
<p>Take the function <span class="math inline">\(f(x) = 5x^2\)</span></p>
<p><em>Note</em> Remember the square of a sum</p>
<p><span class="math display">\[ (x + \Delta x)^2 = x^2 + 2x\Delta x + (\Delta x)^2\]</span></p>
<p>Substitute in:</p>
<p><span class="math display">\[ lim_{\Delta x \to 0} \left(\frac{5(x + \Delta x)^2 - (5x^2)}{\Delta x}\right)\]</span></p>
<p>Becomes</p>
<p><span class="math display">\[ lim_{\Delta x \to 0} \left(\frac{5x^2 + 10x\Delta x + 5\Delta x^2 - 5x^2}{\Delta x}\right)\]</span></p>
<ul>
<li><span class="math inline">\(5x^2\)</span> and <span class="math inline">\(-5x^2\)</span> cancel out</li>
<li>remove a <span class="math inline">\(\Delta x\)</span> from both top terms</li>
</ul>
<p><span class="math display">\[ lim_{\Delta x \to 0} \left(10x + 5\Delta x\right)\]</span></p>
<p>Because <span class="math inline">\(\Delta x\)</span> is going to become infinitesimally small, i.e.&nbsp;going to 0, we can forget about it, so we get <span class="math inline">\(10x\)</span></p>
<p><span class="math display">\[ f'(x) = lim_{\Delta x \to 0} (10x) \]</span></p>
<p>__The derivative of the function <span class="math inline">\(5x^2\)</span> is <span class="math inline">\(10x\)</span></p>
</section>
<section id="the-power-rule" class="level3">
<h3 class="anchored" data-anchor-id="the-power-rule">The power rule</h3>
<p>The power rule allows us to differentiate polynomials quickly</p>
<p>If <span class="math inline">\(f(x) = ax^b\)</span></p>
<p>Then <span class="math inline">\(f'(x) = abx^{b-1}\)</span></p>
<p>In our example above, <span class="math inline">\((5*2)^1 = 10\)</span></p>
<p><img src="{{ site.baseurl }}/images/calculus/derivative3.png" class="img-fluid">{:width=“300”}</p>
<p>Rules like the <code>power rule</code> and the <code>sum rule</code> help speed up the process of differentiation. There are many of these in calculus.</p>
</section>
<section id="differentiation-special-cases" class="level3">
<h3 class="anchored" data-anchor-id="differentiation-special-cases">Differentiation special cases</h3>
<p>Special case functions that give interesting results when differentiated.</p>
</section>
<section id="fx" class="level3">
<h3 class="anchored" data-anchor-id="fx">(1) $ f(x) = $</h3>
<p><img src="{{ site.baseurl }}/images/calculus/spec_func1.svg" class="img-fluid"></p>
<p>The gradient of this function is negative everywhere, except at the point, x = 0.</p>
<p>We can’t divide by 0 so we can’t see this point.</p>
<p>As we move right along the graph we see there is a break in our continuous function. <span class="math inline">\(f(x)\)</span> drops towards negative infinity and then re-emerges on the positive side.</p>
<p>This sudden break is what is known as a <em>discontinuity</em>. This function doesn’t have a value at the point <span class="math inline">\(x=0\)</span>.</p>
<p>What about the gradient? Let’s differentiate our function to find out;</p>
<p><span class="math display">\[ f'(x) = lim_{\Delta x \to 0} \left(\frac{\frac{1}{x + \Delta x} - \frac{1}{x}}{\Delta x}\right) \]</span></p>
<ul>
<li>First we need to combine our numerator into a single fraction, making the denominator of each the same.</li>
</ul>
<p><span class="math display">\[ lim_{\Delta x \to 0} \left(\frac{\frac{x}{x(x + \Delta x)} - \frac{x + \Delta x}{x(x + \Delta x)}}{\Delta x}\right) \]</span></p>
<ul>
<li>The <span class="math inline">\(x\)</span> and <span class="math inline">\(-x\)</span> on our new numerator cancel out</li>
</ul>
<p><span class="math display">\[ lim_{\Delta x \to 0} \left(\frac{\frac{-\Delta x}{x(x + \Delta x)}}{\Delta x}\right) \]</span></p>
<ul>
<li>The <span class="math inline">\(-\Delta x\)</span> and <span class="math inline">\(\Delta x\)</span> cancel out, giving us</li>
</ul>
<p><span class="math display">\[ lim_{\Delta x \to 0} \left(\frac{-1}{x(x + \Delta x)}\right) \]</span></p>
<p><span class="math display">\[ lim_{\Delta x \to 0} \left(\frac{-1}{x^2 + x \Delta x}\right) \]</span></p>
<p>We now have the magic of limits to remove the term <span class="math inline">\(x \Delta x\)</span>, leaving us with;</p>
<p><span class="math display">\[ \frac{-1}{x^2} \]</span></p>
<p><img src="{{ site.baseurl }}/images/calculus/spec_func2.png" class="img-fluid"></p>
<p>This derivative function is negative everywhere and undefined at <span class="math inline">\(x = 0\)</span></p>
</section>
<section id="fx-ex" class="level3">
<h3 class="anchored" data-anchor-id="fx-ex">(2) $ f(x) = e^x $</h3>
<p>In this function, the value of the function is always equal to its gradient.</p>
<p><span class="math display">\[ f(x) = f'(x) \]</span></p>
<p>This is also true for <span class="math inline">\(f(x) = 0\)</span></p>
<p>Our function must always be negative or always be negative. Crossing the horizontal function would cause <span class="math inline">\(f'(x)\)</span> to be 0. This property of always decreasing or always increasing also means it can never return to the same value again.</p>
<p>Plenty of functions would fit this in the positive direction. But only Euler’s number <span class="math inline">\(e\)</span>, works in both positive and negative direction.</p>
<p><span class="math inline">\(e = 2.71828...\)</span></p>
<p><span class="math display">\[ f(x) = e^x = f'(x) \]</span></p>
<p><span class="math inline">\(e\)</span>, like <span class="math inline">\(\pi\)</span> appears to be written all over the fabric of the universe.</p>
<blockquote class="blockquote">
<p>As differentiating e to the x gives us e to the x, clearly, we can just keep differentiating this thing as many times as we’d like and nothing is going to change. This self similarity is going to come in very handy.</p>
</blockquote>
<p><img src="{{ site.baseurl }}/images/calculus/spec_func3.png" class="img-fluid"></p>
</section>
<section id="trigonometric-functions-sine-and-cosine" class="level3">
<h3 class="anchored" data-anchor-id="trigonometric-functions-sine-and-cosine">(3) Trigonometric functions, <code>Sine</code> and <code>Cosine</code></h3>
<blockquote class="blockquote">
<p>You may recall that for a right angled triangle, sine of angle x multiplied by the hypotenuse r gives you the length of the opposite side to the angle.</p>
</blockquote>
<p><img src="{{ site.baseurl }}/images/calculus/spec_func4.png" class="img-fluid"></p>
<p><span class="math inline">\(Cosine(x)\)</span> is the derivative of <span class="math inline">\(Sin(x)\)</span></p>
<p><img src="{{ site.baseurl }}/images/calculus/spec_func5.png" class="img-fluid"></p>
<p>If we differentiate <span class="math inline">\(cos(x)\)</span> we get <span class="math inline">\(-sin(x)\)</span></p>
<p><img src="{{ site.baseurl }}/images/calculus/spec_func6.png" class="img-fluid"></p>
<p>Differentiating <span class="math inline">\(sin(x)\)</span> four times, gives us <span class="math inline">\(sin(x)\)</span></p>
<p><img src="{{ site.baseurl }}/images/calculus/spec_func7.png" class="img-fluid"></p>
<p>The pattern repeats, again giving us a property of self-similarity.</p>
<p>That is because trigonometric functions are exponential functions in disguise.</p>
<p><span class="math display">\[ sin(x) = \frac{e^{ix} - e^{-ix}}{2i} \]</span></p>
<p><strong>Differentiation may feel complicated at times, but the concept is simple. You are looking for the <em>rise over run</em> gradient at each point.</strong></p>
</section>
</section>
<section id="practice" class="level2">
<h2 class="anchored" data-anchor-id="practice">Practice</h2>
<p><strong>(1)</strong> Using the power rule, <span class="math inline">\(\frac{d}{dx} \left(ax^b\right) = abx^{b-1}\)</span></p>
<p>Differentiate <span class="math inline">\(f(x) = x^{173}\)</span></p>
<p><span class="math inline">\(f'(x) = 173x^{172}\)</span></p>
<p><strong>(2)</strong> Using the sum rule, <span class="math inline">\(\frac{d}{dx}\left[f(x) + g(x)\right] = \frac{df(x)}{dx} + \frac{gf(x)}{dx}\)</span></p>
<p>Differentiate <span class="math inline">\(f(x) = x^2 + 7 + \frac{1}{x}\)</span></p>
<p>We know</p>
<ul>
<li><span class="math inline">\(x^2\)</span> becomes <span class="math inline">\(2x\)</span>,</li>
<li><span class="math inline">\(7\)</span> is a constant so we ignore it (remember the gradient of a line function <span class="math inline">\(x = ab + c\)</span>, is <span class="math inline">\(a\)</span>),</li>
<li>and <span class="math inline">\(\frac{1}{x}\)</span> we’ve been given</li>
</ul>
<p><span class="math inline">\(f'(x) = 2x - \frac{1}{x^2}\)</span></p>
<p><strong>(3)</strong> Find the second derivative of <span class="math inline">\(f(x) = e^x + 2sin(x) + x^3\)</span></p>
<p>We know</p>
<ul>
<li><span class="math inline">\(f''(x)\)</span> of <span class="math inline">\(e^x\)</span> is <span class="math inline">\(e^x\)</span></li>
<li><span class="math inline">\(f'(x)\)</span> of <span class="math inline">\(sin(x)\)</span> is <span class="math inline">\(cos(x)\)</span> and <span class="math inline">\(f'(x)\)</span> of that is <span class="math inline">\(-sin(x)\)</span></li>
<li><span class="math inline">\(x^3\)</span> we can use the power rule: <span class="math inline">\(x^3 \to 3x^2 \to 6x\)</span></li>
</ul>
<p><span class="math inline">\(f''(x) = e^x + -2sin(x) + 6x\)</span></p>
<p><strong>(4)</strong> To find the anti-derivative we ask what function you’d need to differentiate to get <span class="math inline">\(f'(x)\)</span>. Consider the power rule in reverse. The anti-derivative of <span class="math inline">\(abx^{b-1} is ax^b\)</span></p>
<p>What is the anti-derivative of <span class="math inline">\(f'(x) = x^4 - sin(x) - 3e^x\)</span>?</p>
<ul>
<li><span class="math inline">\(x^4\)</span> becomes <span class="math inline">\(\frac{1}{5} x ^ 5\)</span>,
<ul>
<li>tip: 5 * 0.2 = 1</li>
</ul></li>
<li><span class="math inline">\(-sin(x)\)</span> becomes <span class="math inline">\(cos(x)\)</span></li>
<li><span class="math inline">\(3e^x\)</span> is <span class="math inline">\(3e^x\)</span></li>
</ul>
<p>$ f(x) = x ^ 5 + cos(x) - 3e^x + c$</p>
<p>When calculating anti-derivatives we can add any constant, since the derivative of a constant is zero.</p>
<p><strong>(5)</strong> The power rule can be applied for any real value of <span class="math inline">\(b\)</span></p>
<p>Using the facts that <span class="math inline">\(\sqrt{x} = x^{\frac{1}{2}}\)</span> and <span class="math inline">\(x^{-a} = \frac{1}{x^a}\)</span></p>
<blockquote class="blockquote">
<p>Power rule: multiply by the power, then reduce the power by one</p>
</blockquote>
<p>Calculate <span class="math inline">\(\frac{d}{dx}\left(\sqrt{x}\right)\)</span></p>
<ul>
<li>Rewrite: <span class="math inline">\((x^{\frac{1}{2}})\)</span></li>
<li>Power law: <span class="math inline">\((\frac{1}{2}x^{-\frac{1}{2}})\)</span></li>
<li>Second fact given: <span class="math inline">\((\frac{1}{2}\frac{1}{x^\frac{1}{2}})\)</span></li>
<li>Becomes: <span class="math inline">\((\frac{1}{2}\frac{1}{\sqrt{x}})\)</span></li>
<li>Becomes: <span class="math inline">\((\frac{1}{2\sqrt{x}})\)</span></li>
</ul>
<p><span class="math inline">\(\frac{d}{dx}\left(\sqrt{x}\right) = \frac{1}{2\sqrt{x}}\)</span></p>
</section>
<section id="time-saving-rules" class="level2">
<h2 class="anchored" data-anchor-id="time-saving-rules">Time saving rules</h2>
<section id="product-rule" class="level3">
<h3 class="anchored" data-anchor-id="product-rule">Product rule</h3>
<p>A convenient shortcut for differentiating the product of two functions.</p>
<p>Say we have a rectangle. The length of one side is the function <span class="math inline">\(f(x)\)</span> and the other <span class="math inline">\(g(x)\)</span>. The product of these two function with give us the rectangle’s area, <span class="math inline">\(A(x) = f(x)g(x)\)</span>.</p>
<p>If we differentiate <span class="math inline">\(A(x)\)</span>, what we’re looking for is the change in area of our rectangle as we vary <span class="math inline">\(x\)</span>.</p>
<blockquote class="blockquote">
<p>What is the derivative of A with respect to x?</p>
</blockquote>
<p><img src="{{ site.baseurl }}/images/calculus/product_rule1.png" class="img-fluid">{:width=“500”}</p>
<p><em>Note:</em> In the example chosen, both our functions increase with <span class="math inline">\(x\)</span>. This does not need to be the case for the product rule to be applied.</p>
<p><span class="math inline">\(\Delta A(x)\)</span> can be viewed as the sum of three triangles, each representing the change in height, width and diagonal</p>
<p><img src="{{ site.baseurl }}/images/calculus/product_rule2.png" class="img-fluid">{:width=“500”}</p>
<p>As <span class="math inline">\(\Delta x\)</span> goes to 0, it is the smallest rectangle that will shrink the fastest. We simply ignore its contribution to the area.</p>
<p>Our rise over run, differentiation calculation is the limit of <span class="math inline">\(\frac{\Delta A(x)}{\Delta x}\)</span></p>
<p><span class="math display">\[ lim_{\Delta x \to 0} \left(\frac{\Delta A(x)}{\Delta x}\right) = lim_{\Delta x \to 0} \left(\frac{f(x)(g(x + \Delta x) - g(x)) + g(x)(f(x + \Delta x) - f(x))}{\Delta x}\right) \]</span></p>
<p>We can rearrange this equation. (1) Splitting into two fractions and (2) Removing <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(g(x)\)</span> out of the numerators.</p>
<p><span class="math display">\[ lim_{\Delta x \to 0} \left(\frac{\Delta A(x)}{\Delta x}\right) = lim_{\Delta x \to 0} \left(f(x)\frac{(g(x + \Delta x) - g(x))}{\Delta x} + g(x)\frac{(f(x + \Delta x) - f(x))}{\Delta x}\right) \]</span></p>
<p>This first fraction is now the derivative of <span class="math inline">\(g(x)\)</span> and the second is the derivative of <span class="math inline">\(f(x)\)</span></p>
<p><span class="math display">\[ A'(x) = f(x)g'(x) + g(x)f'(x) \]</span></p>
<p><img src="{{ site.baseurl }}/images/calculus/product_rule3.png" class="img-fluid">{:width=“500”}</p>
<p><img src="{{ site.baseurl }}/images/calculus/product_rule4.png" class="img-fluid">{:width=“300”}</p>
<section id="practice-the-product-rule" class="level4">
<h4 class="anchored" data-anchor-id="practice-the-product-rule">Practice the product rule</h4>
<p><strong>(1)</strong> Write the product rule <span class="math inline">\(A'(x) = f'(x)g(x) + f(x)g'(x)\)</span> in <span class="math inline">\(\frac{d}{dx}\)</span> notation</p>
<p><span class="math display">\[ \frac{dA(x)}{dx} = \frac{df(x)}{dx} g(x) + f(x) \frac{dg(x)}{dx}\]</span></p>
<p><strong>(2)</strong> It can be useful to rewrite a function <span class="math inline">\(f(x)\)</span> into two parts so that we can apply the product rule and differentiate more easily.</p>
<p><span class="math inline">\(A(x) = (x + 2)(3x - 3)\)</span> can be thought of as <span class="math inline">\(f(x) = (x + 2) and g(x) = (3x - 3)\)</span></p>
<p>Remember we can ignore constants, so it makes it easy to differentiate</p>
<p>Therefore <span class="math inline">\(A'(x) = 3(x + 2) + (3x - 3) = 6x + 3\)</span></p>
<p><strong>(3)</strong> Combining previous rules and our knowledge of our trigonometric functions differentiate it we can easily differentiate the function <span class="math inline">\(f(x) = x^3sin(x)\)</span></p>
<p><span class="math inline">\(f'(x) = 3x^2sin(x) + x^3cos(x)\)</span></p>
<p><strong>(4)</strong> Differentiate <span class="math inline">\(f(x) = \frac{e^x}{x}\)</span></p>
<p><em>Note</em> <span class="math inline">\(\frac{e^x}{x} = e^x\frac{1}{x}\)</span> so can use the product rule</p>
<p><span class="math inline">\(f'(x) = e^x (-\frac{1}{x^2}) + e^x \frac{1}{x} = e^x \left(\frac{1}{x} - \frac{1}{x^2}\right)\)</span></p>
<p><strong>(5)</strong> We can extend the product rule to the products of more than two functions</p>
<ul>
<li>Consider the function <span class="math inline">\(u(x) = f(x)g(x)h(x)\)</span></li>
<li>Then use the product rule twice to find the expression for <span class="math inline">\(u'(x)\)</span></li>
<li>This is the product rule for a product of three functions</li>
</ul>
<p>Start by substituting A(x) = f(x)g(x)</p>
<p><span class="math inline">\(u'(x) = A(x)h'(x) + h(x)A'(x)\)</span></p>
<p>Now substitute out (A)</p>
<p><span class="math inline">\(u'(x) = f(x)g(x)h'(x) + h(x)\left(f(x)g'(x) + g(x)f'(x)\right)\)</span></p>
<p>Multiply out <span class="math inline">\(h(x)A'(x)\)</span> on the right hand-side</p>
<p><span class="math inline">\(u'(x) = f(x)g(x)h'(x) + h(x)(f(x)g'(x) + h(x)g(x)f'(x)\)</span></p>
<p><strong>(6)</strong> Now differentiate a function that is the product of three functions: <span class="math inline">\(f(x) = x e^x cos(x)\)</span></p>
<p>Substitute <span class="math inline">\(t(x) = x e^x\)</span></p>
<p><span class="math inline">\(f'(x) = t(x)-sin(x) + cos(x)t'(x)\)</span></p>
<p><span class="math inline">\(t'(x) = (e^x x+1) + (e^x x)\)</span> – <em>note</em> the derivative of <span class="math inline">\(x\)</span> is 1</p>
<p><span class="math inline">\(f'(x) = e^x[(x + 1) cos(x) + x sin(x)]\)</span></p>
</section>
</section>
<section id="chain-rule" class="level3">
<h3 class="anchored" data-anchor-id="chain-rule">Chain rule</h3>
<p>Functions can be used as the input to other functions.</p>
<p>Consider the nested (or composite) function, <code>h of p of m</code> <span class="math inline">\(h(p(m))\)</span></p>
<p>We are relating the concept of <span class="math inline">\(m\)</span> to <span class="math inline">\(h\)</span> via the concept of <span class="math inline">\(p\)</span>. We are chaining concepts together.</p>
<p>In our example, let’s say <span class="math inline">\(h\)</span> is happiness, which is a function of the number of pizzas we eat <span class="math inline">\(p\)</span>, which itself is a function of the money we have <span class="math inline">\(m\)</span>.</p>
<p><span class="math display">\[h(p) = -\frac{1}{3}p^2 + p + \frac{1}{5}\]</span></p>
<p>This may look daunting but can be plotted as;</p>
<p><img src="{{ site.baseurl }}/images/calculus/chain_rule1.png" class="img-fluid">{:width=“300”}</p>
<p>Without any pizza it is still possible to be happy. There is a point where some amount of pizza peaks our happiness, then it decreases until the amount of pizza consumed begins to negatively effect our happiness.</p>
<p>Pizza and money has a straight forward exponential relationship.</p>
<p><span class="math display">\[ p(m) = e^m - 1\]</span></p>
<blockquote class="blockquote">
<p>What we’d like to know is, by considering how much money I have now, how much effort should I put into making more, if my aim is to be happy?</p>
<p>To work this out, we’re going to need to know what the rate of change of happiness is, with respect to money,</p>
</blockquote>
<p>This is $ $.</p>
<p>We could directly substitute these two functions in:</p>
<p><span class="math display">\[ h(p(m)) = -\frac{1}{3}(e^m - 1)^2 + (e^m - 1) + \frac{1}{5}\]</span></p>
<p>Then we can differentiate this directly to</p>
<p><span class="math display">\[ \frac{dh}{dm} = \frac{1}{3}e^m(5 - 2e^m)\]</span></p>
<p>The chain rules allows us to handle more complex examples where direct substitution may not be feasible.</p>
<p>Consider the derivative of <span class="math inline">\(h\)</span> with respect to <span class="math inline">\(p\)</span>, <span class="math inline">\(\frac{dh}{dp}\)</span>, and of <span class="math inline">\(p\)</span> with respect to <span class="math inline">\(m\)</span> <span class="math inline">\(\frac{dp}{dm}\)</span>.</p>
<p>In this notation convention, the derivatives are represented as quotients (a result obtained by dividing one quantity by another). The product of these two will give you the desired function <span class="math inline">\(\frac{dh}{dm}\)</span></p>
<p><span class="math display">\[ \frac{dh}{dp} * \frac{dp}{dm} = \frac{dh}{dm}\]</span></p>
<p><img src="{{ site.baseurl }}/images/calculus/chain_rule3.png" class="img-fluid">{:width=“300”}</p>
<p>Take our example.</p>
<p>We don’t want <span class="math inline">\(p\)</span> to appear in our final output, so we substitute <span class="math inline">\(p\)</span> in terms of <span class="math inline">\(m\)</span></p>
<p><img src="{{ site.baseurl }}/images/calculus/chain_rule5.png" class="img-fluid">{:width=“500”}</p>
<p>We can see the benefit of getting more money (the dotted white line) decreases dramatically, once you have enough pizza.</p>
<p><img src="{{ site.baseurl }}/images/calculus/chain_rule4.png" class="img-fluid">{:width=“500”}</p>
<blockquote class="blockquote">
<p>What’s magic about the chain rule is that for some real-world applications, we may not have a nice analytical expression for our function. But we may still have the derivatives. So, being able to simply combine them with the chain rule becomes very powerful, indeed.</p>
</blockquote>
<p><em>Common mistake</em>: Not recognising whether a function is composite or not.</p>
<p>For example: <span class="math inline">\(cos^2(x)\)</span> is shorthand for <span class="math inline">\([cos(x)]^2\)</span></p>
<blockquote class="blockquote">
<p>Described verbally, if <span class="math inline">\(f(x) = g(h(x))\)</span></p>
<p>the rules says that the derivative of the composite function <span class="math inline">\(f'(x)\)</span>, is - the inner function <span class="math inline">\(h\)</span> within the derivative of the outer function <span class="math inline">\(g'\)</span></p>
<p><span class="math inline">\(f'(x) = g'(h(x)) * h'(x)\)</span></p>
</blockquote>
<section id="practice-the-chain-rule" class="level4">
<h4 class="anchored" data-anchor-id="practice-the-chain-rule">Practice the chain rule</h4>
<p>The chain rule allows us to differentiate functions of functions.</p>
<p><strong>(1)</strong> If <span class="math inline">\(f(x) = g(h(x))\)</span> express <span class="math inline">\(f'(x)\)</span> in terms of the chain rule notation</p>
<p><span class="math display">\[ \frac{dg}{dx} = \frac{dg}{dh} \frac{dh}{dx} = f'(x) = g'(h(x)) \cdot h'(x)\]</span></p>
<p><strong>(2)</strong> Much like the product rule, the art of the chain rule lies in identifying the components of the function that allow you to apply the rule.</p>
<p>Consider the function <span class="math inline">\(f(x) = e^{x^2 - 3}\)</span></p>
<p>This can be broken down to, <span class="math inline">\(f(x) = g(h(x))\)</span>,</p>
<p>Where</p>
<ul>
<li><span class="math inline">\(g(h) = e^h \to g'(h) = e^{x^2-3}\)</span></li>
<li><span class="math inline">\(h(x) = x^2-3 \to h'(x) = 2x\)</span></li>
</ul>
<p><span class="math display">\[ f'(x) = \frac{dg}{dh} \frac{dh}{dx} = 2xe^{x^2 - 3} \]</span></p>
<p><strong>(3)</strong> Following the same process, given <span class="math inline">\(f(x) = sin^3(x)\)</span></p>
<p>This is shorthand for <span class="math inline">\([sin(x)]^3\)</span></p>
<p><span class="math inline">\(g(h) = h^3 \to g'(h) = 3sin^2(x)\)</span></p>
<p><span class="math inline">\(h(x) = sin(x) \to h'(x) = cos(x)\)</span></p>
<p><span class="math inline">\(f'(x) = 3sin^2(x)cos(x)\)</span></p>
<p><strong>(4)</strong> Calculate the derivative of <span class="math inline">\(tan(x)\)</span> with respect to <span class="math inline">\(x\)</span></p>
<p><em>Note</em></p>
<ul>
<li><span class="math inline">\(tan(x) = \frac{sin(x)}{cos(x)}\)</span></li>
<li><span class="math inline">\(\frac{1}{cos(x)} = [cos(x)]^{-1}\)</span></li>
</ul>
<p><span class="math inline">\(1 + tan^2(x) = \frac{1}{cos^2(x)}\)</span></p>
<p><span class="math display">\[\frac{d}{dx} tan(x) = 1 + tan^2(x)\]</span></p>
<p><strong>(5)</strong> The chain rule can also be applied to functions of functions of functions.</p>
<p>Consider a function <span class="math inline">\(f(g(h(x)))\)</span></p>
<p>By applying the chain rule twice, it’s possible to show that <span class="math inline">\(\frac{df}{dx} = \frac{df}{dg}\frac{dg}{dh}\frac{dh}{dx}\)</span></p>
<p>Use this to find the derivative of <span class="math inline">\(f(x) = e^{sin(x^2)}\)</span></p>
<ul>
<li><span class="math inline">\(f(g) = e^g \to f'(g) = e^{sin(x^2)}\)</span></li>
<li><span class="math inline">\(g(h) = sin^h \to g'(h) = cos(x^2)\)</span></li>
<li><span class="math inline">\(h(x) = x^2 \to h'(x) = 2x\)</span></li>
</ul>
<p><span class="math display">\[ f'(x) = 2xe^{sin(x^2)} cos(x^2)\]</span></p>
</section>
</section>
</section>
<section id="combining-all-four-rules" class="level2">
<h2 class="anchored" data-anchor-id="combining-all-four-rules">Combining all four rules</h2>
<p>In this example, we’ll use a complex formula</p>
<p><span class="math display">\[ f(x) = \frac{sin(2x^5 + 3x)}{e^{7x}} \]</span></p>
<p>We need to break this down into manageable pieces that allow us to apply the rules we have learnt.</p>
<ol type="1">
<li>Though expressed as a fraction, we can rewrite our function as a product, by raising the denominator to the power of -1</li>
</ol>
<p><span class="math display">\[ f(x) = (sin(2x^5 + 3x))e^{-7x} \]</span></p>
<p>We can now split <span class="math inline">\(f(x)\)</span> into the two parts <span class="math inline">\(g(x)\)</span> and <span class="math inline">\(h(x)\)</span></p>
<p><span class="math display">\[ g(x) = sin(2x^5 + 3x) \]</span></p>
<p>and</p>
<p><span class="math display">\[ h(x) = e^{-7x}\]</span></p>
<p>Let’s find an expression for <span class="math inline">\(g'(x)\)</span>:</p>
<p>Here we have the trigonometric function <span class="math inline">\(sin\)</span> applied to a polynomial. This is a classic target for the <code>chain rule</code>.</p>
<p><span class="math display">\[ g(u) = sin(u) \to g'(u) = cos(u) \]</span></p>
<p><span class="math display">\[ u(x) = 2x^5 + 3x\to u'(x) = 10x^4 + 3 \]</span></p>
<p><span class="math display">\[ \frac{dg}{du} \frac{du}{dx} = cos(u)(10x^4 + 3)\]</span></p>
<p>We want a final expression that doesn’t include a <span class="math inline">\(u\)</span>.</p>
<p>The two <span class="math inline">\(\frac{du}{du}\)</span>s cancel each other out and substitute out <span class="math inline">\(u\)</span>.</p>
<p><span class="math display">\[ \frac{dg}{dx} = cos(2x^5 + 3x)(10x^4 + 3) \]</span></p>
<p>Let’s find an expression for <span class="math inline">\(h'(x)\)</span>:</p>
<p><span class="math display">\[ h(v) = e^v \to h'(v) = e^v\]</span></p>
<p><span class="math display">\[ v(x) = -7x \to v'(x) = -7\]</span></p>
<p><span class="math display">\[ \frac{dh}{dv} \frac{dv}{dx} = -7e^{-7x}\]</span></p>
<p>So we have</p>
<p><span class="math display">\[ f'(x) = (g'(x) * h) + (h'(x) * g) \]</span></p>
<p>Where</p>
<p><span class="math display">\[ f'(x) = (cos(2x^5 + 3x)(10x^4 + 3)e^{-7x}) +  ((-7e^{-7x})sin(2x^5 + 3x)) \]</span></p>
<p>This can be rearranged and factorised</p>
<p><span class="math display">\[ f'(x) = e^{-7x} [(10x^4 + 3) cos(2x^5 + 3x) - 7sin(2x^5 + 3x)] \]</span></p>
<p>Or expressed in terms of the original function</p>
<p><span class="math display">\[ f'(x) = \frac{(10x^4 + 3) cos(2x^5 + 3x)}{e^{-7x}} - 7f(x)\]</span></p>
<p><strong>Premature optimisation is the root of all evil</strong></p>
<blockquote class="blockquote">
<p>Don’t spend time tidying things up and rearranging them until that you’re sure that you’ve finished making a mess.</p>
</blockquote>
<section id="more-practice" class="level3">
<h3 class="anchored" data-anchor-id="more-practice">More practice</h3>
<p><strong>(1)</strong> <span class="math inline">\(f(x) = x^{3/2} + \pi x ^2 + \sqrt{7}\)</span></p>
<p>What is the derivative of <span class="math inline">\(f(x)\)</span> at the point <span class="math inline">\(x = 2\)</span>?</p>
<ul>
<li><span class="math inline">\(x^{3/2} \to \frac{3}{2} x^{\frac{1}{2}} = \frac{3\sqrt{2}}{2}\)</span></li>
<li><span class="math inline">\(\pi x^2 \to 2\pi \cdot 2 = 4\pi\)</span></li>
</ul>
<p><span class="math inline">\(f'(x) = \frac{3\sqrt{2}}{2} + 4\pi\)</span></p>
<p><strong>(2)</strong> What is the derivative of <span class="math inline">\(f(x) = x^3cos(x)e^x\)</span>?</p>
<p><em>Note</em> product rule of three terms is <span class="math inline">\(f'(x) g(x) h(x) + f(x) g'(x) h(x) + f(x) g(x) h'(x)\)</span></p>
<ul>
<li><span class="math inline">\(3x^2 cos(x) e^x = 3e^xx^2cos(x)\)</span></li>
<li><span class="math inline">\(-sin(x) x^3 e^x\)</span></li>
<li><span class="math inline">\(x^3 cos(x) e^x\)</span></li>
</ul>
<p><span class="math inline">\(f'(x) = 3e^xx^2cos(x) -sin(x) x^3 e^x + x^3 cos(x) e^x\)</span></p>
<p><strong>(3)</strong> What is the derivative of the function <span class="math inline">\(f(x) = e^{[(x+1)^2]}\)</span>?</p>
<ul>
<li><span class="math inline">\(g(h) = e^h\)</span></li>
<li><span class="math inline">\(h(x) = (x + 1)^2\)</span></li>
</ul>
<p><span class="math inline">\(f'(x) = e^{[(x+1)^2]} \cdot 2(x + 1)\)</span></p>
<p><strong>(4)</strong> What is the derivative of the function <span class="math inline">\(f(x) = x^2cos(x^3)\)</span>?</p>
<p>Product rule and chain rule on the second term</p>
<p>Term one</p>
<ul>
<li><span class="math inline">\(2x cos(x^3)\)</span></li>
</ul>
<p>Term two, first apply the chain rule</p>
<ul>
<li><span class="math inline">\(g(h) = cos(h) \to -sin(x^3)\)</span></li>
<li><span class="math inline">\(h(x) = x^3 \to 3x + 2\)</span></li>
<li><span class="math inline">\(-sin(x^3) \cdot 3x + 2\)</span></li>
</ul>
<p>Apply the product rule</p>
<ul>
<li><span class="math inline">\(-sin(x^3) \cdot 3x + 2 \cdot 2x\)</span></li>
</ul>
<p>TODO: check $ f’(x) = 2x cos(x^3) - sin(x^3) 3x + 2 2x$</p>
<p>$ f’(x) = 2x cos(x^3) - 3x^4 sin(x^3)$</p>
<p><strong>(5)</strong> What is the derivative of the function <span class="math inline">\(f(x) = sin(x)e^{cos(x)}\)</span> at the point <span class="math inline">\(x = \pi\)</span></p>
<p>Term one, product rule</p>
<ul>
<li><span class="math inline">\(cos(x)e^{cos(x)}\)</span></li>
<li>note <span class="math inline">\(cos(\pi) = -1\)</span></li>
<li><span class="math inline">\(-1e^{-1}\)</span></li>
</ul>
<p>Term two, first apply chain rule - <span class="math inline">\(g(h) = e^h\)</span> - <span class="math inline">\(h(x) = cos(x)\)</span> - <span class="math inline">\(e^{cos(x)}-sin(x)\)</span></p>
<p>Apply the product rule</p>
<ul>
<li><span class="math inline">\(e^{cos(x)}-sin(x) \cdot sin(x) = e^{-1}-sin(x) \cdot sin(x)\)</span></li>
</ul>
<p>Bring both terms together</p>
<p><span class="math inline">\(-1e^{-1} + e^{-1}-sin(x) \cdot sin(x)\)</span></p>
<ul>
<li>note <span class="math inline">\(sin(\pi) = 0\)</span></li>
</ul>
<p>So becomes: <span class="math inline">\(-1e^{-1} = -\frac{1}{e}\)</span></p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>